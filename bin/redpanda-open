#!/usr/bin/env bash

LOCL_DOMAIN="http://localhost:3001"
INTG_DOMAIN="https://main--redpanda-cloud-admin.netlify.app"
PPRD_DOMAIN="https://preprod--redpanda-cloud.netlify.app"
PROD_DOMAIN="https://cloud.redpanda.com"

# Step 1: Get ID (just a text input)
id=$(rofi -dmenu -p "Cluster ID" -l 0 -theme-str 'listview { enabled: false; }')

[ -z "$id" ] && exit 1

# Step 2: Select environment (default Integration on Enter)
options="ðŸŸ¢ Integration
ðŸ”µ Local
ðŸŸ  Preprod
ðŸ”´ Production"

choice=$(echo -e "$options" | rofi -dmenu -p "Environment" -mesg "Cluster: $id")

[ -z "$choice" ] && exit 1

case "$choice" in
    "ðŸŸ¢ Integration") domain=$INTG_DOMAIN ;;
    "ðŸ”µ Local") domain=$LOCL_DOMAIN ;;
    "ðŸŸ  Preprod") domain=$PPRD_DOMAIN ;;
    "ðŸ”´ Production") domain=$PROD_DOMAIN ;;
    *) exit 1 ;;
esac

xdg-open "${domain}/clusters/${id}/overview" &
